# torch device
device: 'cpu'
#device: 'cuda'
hamiltonian_type: "CPP" # "CPP" | "exact"
device_get_conditional_output: 'device' # "cpu" | "device"(the same with "device")

n_samples: 12288000
n_epoches: 2000
save_model: 0
save_per_epoches: 1000
load_model: 0
checkpoint_path: "checkpoints/xxx.pt"

# 0->extract ham; 1->load ham; 2->save ham;
do_ham: 0

#model_fp: fp64
model_fp: fp32

transfer_learning: true
#transfer_learning: false
seed: 333
pos_independ: false
use_sr: false
use_clip_grad: false
#psi_type: 'real'
psi_type: 'complex'
only_infer: false
search_init_best_seed: false
weak_scaling: false

# Open parallel of software
#use_uniq_sampling_parallel: true
use_uniq_sampling_parallel: false
incr_per_epoch: 50
min_partition_samples: 64
#partition_algo: 'weight'
partition_algo: 'number'

# if > 0, using max input dimension for phase
max_transfer: 0
#max_transfer: 128

use_samples_recursive: true
n_samples_min: 1e5
n_samples_max: 1e12
n_unq_samples_min: 1e3
n_unq_samples_max: 1e6
n_samples_scale_factor: 1.3

sampling_algo: "bfs"
#sampling_algo: "dfs"
sampling_dfs_width: 128
sampling_dfs_uniq_samples_min: 2048

drop_samples: false
drop_samples_eps: 1e-8

use_amp_infer_batch: true
amp_infer_batch_size: 8192

use_kv_cache: false
use_grad_accumulation: false
grad_accumulation_width: 40960
#grad_accumulation_width: 8192

# "none"/"restricted"/"unrestricted"
electron_conservation_type: "restricted"
qubit_order: -1
#qubit_order: 0
log_level: 'INFO'
#log_level: 'DEBUG'
#system: 'Ising1D'
#n_elecs: 0
#system: 'H2'
#n_elecs: 2
#system: 'Be'
#n_elecs: 4
#system: 'F2'
#n_elecs: 18
#system: 'HCl'
#n_elecs: 18
system: 'LiH'
n_elecs: 4
#system: 'BeH2'
#n_elecs: 6
#system: 'H2O'
#n_elecs: 10
#system: 'CH2'
#n_elecs: 8
#system: 'O2'
#n_elecs: 16
#system: 'BeH2'
#n_elecs: 6
#system: 'H2S'
#n_elecs: 18
#system: 'NH3'
#n_elecs: 10
#system: 'N2'
#n_elecs: 14
#system: 'CH4'
#n_elecs: 10
#system: 'C2'
#n_elecs: 12
#system: 'LiF'
#n_elecs: 12
#system: 'PH3'
#n_elecs: 18
#system: 'LiCl'
#n_elecs: 20
#system: 'Li2O'
#n_elecs: 14
#system: 'C2H6'
#n_elecs: 18
# zeng
#system: 'C2H6'
#n_eilecs: 14
#system: 'C2H4O'
#n_elecs: 24
#system: 'C3H6'
#n_elecs: 24
#system: 'C2H4O2'
#n_elecs: 32
#system: 'H2O4S'
#n_elecs: 50
#system: 'CNa2O3'
#n_elecs: 52
#system: 'H2_aug-cc-pvtz'
#n_elecs: 2
#system: 'H6'
#n_elecs: 6
#system: 'CO2'
#n_elecs: 22
#system: 'fenton'
#n_elecs: 46
#system: 'H10'
#n_elecs: 10
#system: 'C6H6_32'
#n_elecs: 14
#system: 'benene_dimer'
#n_elecs: 18
elec_cons_method: 0
# default will be n_elecs/2
# n_alpha_electrons: 2 # spin-up elec
# n_beta_electrons: 2 # spin-down elec

model:
    d_model: 32
    n_layers: 4
    n_heads: 4
    p_dropout: 0.0

# phase model for QiankunNet2 (Optional)
phase_hidden_features: 256
phase_num_blocks: 1

# phase model for QiankunNet1 (Optional)
phase_hidden_size: [512,512,512,512]
use_phase_embedding: false

optim:
    name: 'AdamW'
    lr: 0.0005
    #lr: 1.0
    betas: [0.9, 0.99]
    eps: 1e-9
    weight_decay: 0.00
    #open_lr_scheduler: true
    open_lr_scheduler: false
    warmup_step: 4000
